package com.kh.board.model.dao;

import org.apache.ibatis.session.SqlSession;

import com.kh.board.model.exception.SelectBoardListException;

public class BoardDao {

	public int getListCount(SqlSession session) throws SelectBoardListException {
		int listCount = 0;
		
		listCount = session.selectOne("boardMapper.selectListCount");
		// board-mapper.xml 작성 + mybatis-config에 mapper 추가
		
		if(listCount <= 0) {
			// 조회 된 게시글 수가 없다면 session 닫은 뒤 예외 발생 시키기
			session.close();
			throw new SelectBoardListException("게시글 조회 실패!!");
		}
		return listCount;
	}

}
